[
  {
    "objectID": "index.html#development-seed",
    "href": "index.html#development-seed",
    "title": "STAC at Scale",
    "section": "Development Seed",
    "text": "Development Seed\n\n\n\ngeospatial engineering and product design consultancy\n20 years of operations with offices in Washington DC, and Lisbon, Portugal. With 54+ staff working across the globe.\n\n\n\n\n\n\n\nwork with partners across the globe\nmany of the projects that we work on have been discussed at previous meetings (NASA MAAP) or will be at future meetings, so the projects I am presenting today are ones that may not otherwise appear at GtCoP"
  },
  {
    "objectID": "index.html#spatiotemporal-asset-catalog",
    "href": "index.html#spatiotemporal-asset-catalog",
    "title": "STAC at Scale",
    "section": "SpatioTemporal Asset Catalog",
    "text": "SpatioTemporal Asset Catalog\n\n\n\nSTAC spec\nSTAC API spec\ncommunity-driven\n\n\n\n\n\n\n\nvia GIPHY\n\n\n\n\n\n\n\neverything comes back to the specs that have been defined to serve the needs of users\n\n\n\nSeptember 2024 GtCoP presentation"
  },
  {
    "objectID": "index.html#vision",
    "href": "index.html#vision",
    "title": "STAC at Scale",
    "section": "Vision",
    "text": "Vision\n\nThe goal is for all providers of spatiotemporal assets (Imagery, SAR, Point Clouds, Data Cubes, Full Motion Video, etc) to expose their data as SpatioTemporal Asset Catalogs (STAC), so that new code doesn’t need to be written whenever a new data set or API is released.\n\n\nData providers don’t need to write new APIs\nData consumers don’t need to learn new APIs\nTool builders don’t need to build against new APIs\n\n\n\nreduce overhead for everyone"
  },
  {
    "objectID": "index.html#how-is-it-going",
    "href": "index.html#how-is-it-going",
    "title": "STAC at Scale",
    "section": "How is it going?",
    "text": "How is it going?\n\n\n\nProviders: producing STAC metadata and hosting STAC APIs\nDevelopers: building awesome applications\nConsumers: pushing the limits of APIs and STAC spec\nCommunity: updating the STAC spec to meet needs of providers, consumers, and developers\n\n\n\n\n\n\n\n\nwin-win-win\nbuilding large-scale applications with STAC can push the entire ecosystem forward"
  },
  {
    "objectID": "index.html#benefits-for-data-producers",
    "href": "index.html#benefits-for-data-producers",
    "title": "STAC at Scale",
    "section": "Benefits for data producers",
    "text": "Benefits for data producers\n\n\n\nStandardized metadata\n\nno need to invent custom schemas\nuse existing validation tools\nre-use or create extensions for specialized needs\n\nFlexible implementation\n\nmultiple database backends\n\n\n\n\n\n\n\n\n\n\n\nExtensions allow customization while maintaining interoperability\nValidation tools ensure compliance and quality"
  },
  {
    "objectID": "index.html#reduced-development-overhead",
    "href": "index.html#reduced-development-overhead",
    "title": "STAC at Scale",
    "section": "Reduced development overhead",
    "text": "Reduced development overhead\n\n\n\ncommunity-backed tools\n\nmetadata generation (stactools)\nAPI implementations (stac-fastapi)\nvalidation (stac-validator)\n\n\n\n\ncommunity benefits\n\nshared development costs\nbattle-tested implementations\nactive ecosystem growth\n\n\n\n\n\nInstead of building custom tools, providers can use existing ones\nCommunity collaboration reduces individual development costs\nTools are continuously improved by real-world usage\nData becomes immediately usable in popular tools\nEasier to integrate with cloud platforms\nReduces friction for users to access and work with data"
  },
  {
    "objectID": "index.html#benefits-for-developers",
    "href": "index.html#benefits-for-developers",
    "title": "STAC at Scale",
    "section": "Benefits for developers",
    "text": "Benefits for developers\n\ncollaboration among many organizations\niteratively improve existing tools rather than building from scratch every time\ndig into details of the spec to support as many use-cases as possible\nre-use tested components!\n\n\n\ncollaboration is key\nlet’s look at few applications that show how application developers can build to the STAC spec"
  },
  {
    "objectID": "index.html#stac-browser",
    "href": "index.html#stac-browser",
    "title": "STAC at Scale",
    "section": "STAC Browser",
    "text": "STAC Browser\n{\n  \"collections\": [\n    {\n      \"id\": \"sentinel1-grd\",\n      \"type\": \"Collection\",\n      \"links\": [\n        {\n          \"rel\": \"items\",\n          \"type\": \"application/geo+json\",\n          \"href\": \"https://dev.asdi-catalog.org/collections/sentinel1-grd/items\"\n        },\n        {\n          \"rel\": \"parent\",\n          \"type\": \"application/json\",\n          \"href\": \"https://dev.asdi-catalog.org/\"\n        }\n      ],\n      \"title\": \"Sentinel-1 GRD\",\n      \"extent\": {\n        \"spatial\": {\n          \"bbox\": [\n            [-180, -90, 180, 90]\n          ]\n        },\n        \"temporal\": {\n          \"interval\": [\n            [\n              \"2014-10-10T00:00:00Z\",\n              null\n            ]\n          ]\n        }\n      }\n    }\n  ]\n}\n\n\ntransform JSON into a beautiful interface"
  },
  {
    "objectID": "index.html#explore-stac-browser",
    "href": "index.html#explore-stac-browser",
    "title": "STAC at Scale",
    "section": "Explore STAC Browser",
    "text": "Explore STAC Browser\n\n\n\n\n\nhttps://radiantearth.github.io/stac-browser/#/?.language=en"
  },
  {
    "objectID": "index.html#maxar-imagery-from-maui-wildfires-in-august-2023",
    "href": "index.html#maxar-imagery-from-maui-wildfires-in-august-2023",
    "title": "STAC at Scale",
    "section": "Maxar imagery from Maui wildfires in August 2023",
    "text": "Maxar imagery from Maui wildfires in August 2023\n\n\n\n\n\nhttps://raster.eoapi.dev/collections/MAXAR_Maui_Hawaii_fires_Aug_23/map?assets=visual&assets_bidx=visual|1,2,3&minzoom=8&maxzoom=22\n\n\n\nrender parameters stored as metadata\nvisualize any collection with same API"
  },
  {
    "objectID": "index.html#outline",
    "href": "index.html#outline",
    "title": "STAC at Scale",
    "section": "Outline",
    "text": "Outline\nLandsatLook\n\nuser-facing USGS application for visualizaing mosaics of Landsat scenes\n\nMicrosoft Planetary Computer\n\nmassive geospatial data catalog\ndynamic visualization capabilities\n\nAmazon Sustainability Data Initiative\n\npublic science data\nevent-driven STAC metadata generation pipelines\n\n\nChallenges include: - ever-increasing data volume! - search speed for applications that consume data - ingestion pipelines"
  },
  {
    "objectID": "index.html#explore-landsatlook",
    "href": "index.html#explore-landsatlook",
    "title": "STAC at Scale",
    "section": "Explore LandsatLook",
    "text": "Explore LandsatLook\n\nhttps://landsatlook.usgs.gov/explore"
  },
  {
    "objectID": "index.html#mosaicjson",
    "href": "index.html#mosaicjson",
    "title": "STAC at Scale",
    "section": "MosaicJSON",
    "text": "MosaicJSON\n\n\n\npre-compute which STAC items are required for each XYZ tile\n\nbased on search criteria and item spatial extents\n\nmakes dynamic mosaic visualizations possible!\nreduces burden on STAC API, but costly to create\n\n\n\n\n\n\nMosaicJSON files can take a while to generate for a large area"
  },
  {
    "objectID": "index.html#explore-planetary-computer",
    "href": "index.html#explore-planetary-computer",
    "title": "STAC at Scale",
    "section": "Explore Planetary Computer",
    "text": "Explore Planetary Computer\n\nhttps://planetarycomputer.microsoft.com/catalog\n\n\n\nShow how you can filter by date range, show different visualizations, etc."
  },
  {
    "objectID": "index.html#pgstac-origin-story",
    "href": "index.html#pgstac-origin-story",
    "title": "STAC at Scale",
    "section": "pgstac origin story",
    "text": "pgstac origin story\n\n\nHow can we optimize for lightning fast queries?\n\n\npgstac was born \n\n\n\n\nneeded a new database backend for STAC operations\nit needed to be really fast to support API requests and dynamic visualizations"
  },
  {
    "objectID": "index.html#pgstac",
    "href": "index.html#pgstac",
    "title": "STAC at Scale",
    "section": "pgstac",
    "text": "pgstac\n\nPostgreSQL schema and functions for Spatio-Temporal Asset Catalog (STAC)\n\n\n\nstrengths\n\nit’s Postgres!\nbuilt to handle hundreds of millions of items\noptimized for “needle in haystack” queries\nhashed searches\n\n\nweaknesses\n\nrequires some tinkering to achieve optimal performance\naggregation statistics can be somewhat slow\n\n\n\n\na lot of pgstac’s development was funded by work on MPC\ngoal was to put as much of the STAC ops in the database so many clients could talk to it without re-writing the core\nputting things in the postgres db gives you a lot for free\nhashed searches: many queries (e.g. for dynamic tiling) are going to yield the same set of items. pgstac has a mechanism for caching search results to enable faster retrieval of matching items"
  },
  {
    "objectID": "index.html#titiler-pgstac",
    "href": "index.html#titiler-pgstac",
    "title": "STAC at Scale",
    "section": "titiler-pgstac",
    "text": "titiler-pgstac\n\n\n\ndynamic mosaic visualizations from STAC collections\nconnects directly to pgstac database\n\n(no API requests for STAC queries)\n\nhashed searches!\n\n\n\n\n\n\n\n\n\n\nstac-utils/titiler-pgstac"
  },
  {
    "objectID": "index.html#integrated-mosaic-tiling",
    "href": "index.html#integrated-mosaic-tiling",
    "title": "STAC at Scale",
    "section": "Integrated mosaic tiling",
    "text": "Integrated mosaic tiling\n\n\n\nfastest way to assemble a tile from an arbitrary STAC query"
  },
  {
    "objectID": "index.html#asdi-catalog",
    "href": "index.html#asdi-catalog",
    "title": "STAC at Scale",
    "section": "ASDI Catalog",
    "text": "ASDI Catalog"
  },
  {
    "objectID": "index.html#stactools-packages",
    "href": "index.html#stactools-packages",
    "title": "STAC at Scale",
    "section": "stactools-packages",
    "text": "stactools-packages\n\nThe stactools-packages github organization is a home for datasets and tool packages using the SpatioTemporal Asset Catalog (STAC) specification.\n\n\nuser-generated STAC metadata building packages\nhref -&gt; STAC item"
  },
  {
    "objectID": "index.html#browse-stacktools-packages",
    "href": "index.html#browse-stacktools-packages",
    "title": "STAC at Scale",
    "section": "Browse stacktools-packages",
    "text": "Browse stacktools-packages"
  },
  {
    "objectID": "index.html#stactools-pipelines",
    "href": "index.html#stactools-pipelines",
    "title": "STAC at Scale",
    "section": "stactools-pipelines",
    "text": "stactools-pipelines\n\n\n\ndevelopmentseed/stactools-pipelines\n\n\n\nevent-based processing\nSNS notifications for new uploads to a bucket provide a mechanism for keeping the STAC records closely synced with new data\nAs soon as a new asset lands, a pipeline to generate STAC metadata is triggered\n\n\n\nhttps://developmentseed.org/blog/2023-10-20-asdi/"
  },
  {
    "objectID": "index.html#eoapi",
    "href": "index.html#eoapi",
    "title": "STAC at Scale",
    "section": "eoAPI",
    "text": "eoAPI\n\n\n\nState-of-the-art services to enable data discovery, search, visualization, and access.\n\n\nreadily deployable\n\nAWS CDK: eoapi-cdk\nkubernetes: eoapi-k8s\n\n\n\n developmentseed/eoapi\n\n\n\nconsistent API structure for all services (FastAPI)\nproduct of development on all of the projects I have discussed today\nany combination of components can be deployed"
  },
  {
    "objectID": "index.html#example-workflow",
    "href": "index.html#example-workflow",
    "title": "STAC at Scale",
    "section": "Example workflow",
    "text": "Example workflow\n\nthanks to the STAC spec we only need a few libraries to interact with data from any collection!\n\n\nimport odc.stac\nimport pyproj\nimport pystac_client\nimport rasterio\nimport xarray as xr\nfrom shapely.geometry import box\nfrom shapely.ops import transform"
  },
  {
    "objectID": "index.html#define-aoi",
    "href": "index.html#define-aoi",
    "title": "STAC at Scale",
    "section": "Define AOI",
    "text": "Define AOI\n\nset up an AOI\n\n\ncrs = pyproj.CRS.from_string(\"epsg:5070\")\n\n# bounding box that surrounds the North Shore of Lake Superior\nbbox = (373926, 2744693, 406338, 2765304)\naoi = box(*bbox)\n\n# STAC items **always** store bounding box info in epsg:4326\ntransformer_4326 = pyproj.Transformer.from_crs(\n    crs_from=crs,\n    crs_to=\"epsg:4326\",\n    always_xy=True,\n)\n\nbbox_4326 = transform(transformer_4326.transform, aoi).bounds\nprint(bbox_4326)\n\n(-91.05816506751593, 47.592675062538454, -90.61526491213358, 47.79503898873347)"
  },
  {
    "objectID": "index.html#collection-search",
    "href": "index.html#collection-search",
    "title": "STAC at Scale",
    "section": "Collection search",
    "text": "Collection search\n\nfind DEM collections in a STAC API\n\n\nclient = pystac_client.Client.open(\n    \"https://dev.asdi-catalog.org/\"\n)\n\ncollection_search = client.collection_search(q=\"DEM\", bbox=bbox_4326)\nsearch_results = {\n    collection.id: collection\n    for collection in collection_search.collections()\n}\n\nfor collection_id, collection in search_results.items():\n    print(f\"{collection_id}: {collection.description}\\n\")\n\n\n\ncop-dem-glo-30: The Copernicus DEM is a Digital Surface Model (DSM) which represents the surface of the Earth including buildings, infrastructure and vegetation. We provide two instances of Copernicus DEM named GLO-30 Public and GLO-90. GLO-90 provides worldwide coverage at 90 meters. GLO-30 Public provides limited worldwide coverage at 30 meters because a small subset of tiles covering specific countries are not yet released to the public by the Copernicus Programme. Note that in both cases ocean areas do not have tiles, there one can assume height values equal to zero. Data is provided as Cloud Optimized GeoTIFFs and comes from Copernicus DEM 2021 release."
  },
  {
    "objectID": "index.html#item-search",
    "href": "index.html#item-search",
    "title": "STAC at Scale",
    "section": "Item search",
    "text": "Item search\n\nquery STAC items\n\n\n\nstac_items = client.search(\n    collections=\"cop-dem-glo-30\",\n    bbox=bbox_4326,\n).item_collection()\n\nstac_items\n\n\n\n\n\n\n    \n        \n            \n                \n                    \n        \n            type\n            \"FeatureCollection\"\n        \n    \n                \n            \n                \n                    \n        features[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            type\n            \"Feature\"\n        \n    \n            \n        \n            \n                \n        \n            stac_version\n            \"1.0.0\"\n        \n    \n            \n        \n            \n                \n        stac_extensions[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            id\n            \"Copernicus_DSM_COG_10_N47_00_W092_00_DEM\"\n        \n    \n            \n        \n            \n                \n        \n            geometry\n            \n        \n            \n                \n        \n            type\n            \"Polygon\"\n        \n    \n            \n        \n            \n                \n        coordinates[] 1 items\n        \n            \n        \n            \n                \n        0[] 5 items\n        \n            \n        \n            \n                \n        0[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        1[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        2[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -92.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        3[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -92.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        4[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        bbox[] 4 items\n        \n            \n        \n            \n                \n        \n            0\n            -92.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            properties\n            \n        \n            \n                \n        \n            gsd\n            30.0\n        \n    \n            \n        \n            \n                \n        \n            license\n            \"proprietary\"\n        \n    \n            \n        \n            \n                \n        \n            datetime\n            \"2021-04-22T00:00:00Z\"\n        \n    \n            \n        \n            \n                \n        \n            platform\n            \"TanDEM-X\"\n        \n    \n            \n        \n            \n                \n        \n            proj:epsg\n            4326\n        \n    \n            \n        \n            \n                \n        providers[] 3 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            url\n            \"https://spacedata.copernicus.eu/documents/20126/0/CSCDA_ESA_Mission-specific+Annex.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"European Space Agency\"\n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"licensor\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \n        \n            \n                \n        \n            url\n            \"https://registry.opendata.aws/copernicus-dem/\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"Sinergise\"\n        \n    \n            \n        \n            \n                \n        roles[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            \"producer\"\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \"processor\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            \n        \n            \n                \n        \n            url\n            \"https://registry.opendata.aws/copernicus-dem/\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"Sinergise\"\n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"host\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        proj:shape[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            3600\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            3600\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        proj:transform[] 6 items\n        \n            \n        \n            \n                \n        \n            0\n            0.0002777777777777778\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            0.0\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            -92.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            0.0\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            4\n            -0.0002777777777777778\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            5\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        links[] 6 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            rel\n            \"collection\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \n        \n            \n                \n        \n            rel\n            \"parent\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            \n        \n            \n                \n        \n            rel\n            \"root\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"ASDI STAC API (dev)\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            \n        \n            \n                \n        \n            rel\n            \"self\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30/items/Copernicus_DSM_COG_10_N47_00_W092_00_DEM\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/geo+json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            4\n            \n        \n            \n                \n        \n            rel\n            \"handbook\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://object.cloud.sdsc.edu/v1/AUTH_opentopography/www/metadata/Copernicus_metadata.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/pdf\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"Copernicus DEM User handbook\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            5\n            \n        \n            \n                \n        \n            rel\n            \"license\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://spacedata.copernicus.eu/documents/20126/0/CSCDA_ESA_Mission-specific+Annex.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"Copernicus Data Access\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            assets\n            \n        \n            \n                \n        \n            data\n            \n        \n            \n                \n        \n            href\n            \"s3://copernicus-dem-30m/Copernicus_DSM_COG_10_N47_00_W092_00_DEM/Copernicus_DSM_COG_10_N47_00_W092_00_DEM.tif\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"image/tiff; application=geotiff; profile=cloud-optimized\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"N47_00_W092_00\"\n        \n    \n            \n        \n            \n                \n        raster:bands[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            unit\n            \"meter\"\n        \n    \n            \n        \n            \n                \n        \n            sampling\n            \"point\"\n        \n    \n            \n        \n            \n                \n        \n            data_type\n            \"float32\"\n        \n    \n            \n        \n            \n                \n        \n            spatial_resolution\n            30\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"data\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            collection\n            \"cop-dem-glo-30\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \n        \n            \n                \n        \n            type\n            \"Feature\"\n        \n    \n            \n        \n            \n                \n        \n            stac_version\n            \"1.0.0\"\n        \n    \n            \n        \n            \n                \n        stac_extensions[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            id\n            \"Copernicus_DSM_COG_10_N47_00_W091_00_DEM\"\n        \n    \n            \n        \n            \n                \n        \n            geometry\n            \n        \n            \n                \n        \n            type\n            \"Polygon\"\n        \n    \n            \n        \n            \n                \n        coordinates[] 1 items\n        \n            \n        \n            \n                \n        0[] 5 items\n        \n            \n        \n            \n                \n        0[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -90.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        1[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -90.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        2[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        3[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        4[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            -90.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        bbox[] 4 items\n        \n            \n        \n            \n                \n        \n            0\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            47.00013888888889\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            -90.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            properties\n            \n        \n            \n                \n        \n            gsd\n            30.0\n        \n    \n            \n        \n            \n                \n        \n            license\n            \"proprietary\"\n        \n    \n            \n        \n            \n                \n        \n            datetime\n            \"2021-04-22T00:00:00Z\"\n        \n    \n            \n        \n            \n                \n        \n            platform\n            \"TanDEM-X\"\n        \n    \n            \n        \n            \n                \n        \n            proj:epsg\n            4326\n        \n    \n            \n        \n            \n                \n        providers[] 3 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            url\n            \"https://spacedata.copernicus.eu/documents/20126/0/CSCDA_ESA_Mission-specific+Annex.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"European Space Agency\"\n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"licensor\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \n        \n            \n                \n        \n            url\n            \"https://registry.opendata.aws/copernicus-dem/\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"Sinergise\"\n        \n    \n            \n        \n            \n                \n        roles[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            \"producer\"\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \"processor\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            \n        \n            \n                \n        \n            url\n            \"https://registry.opendata.aws/copernicus-dem/\"\n        \n    \n            \n        \n            \n                \n        \n            name\n            \"Sinergise\"\n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"host\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        proj:shape[] 2 items\n        \n            \n        \n            \n                \n        \n            0\n            3600\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            3600\n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        proj:transform[] 6 items\n        \n            \n        \n            \n                \n        \n            0\n            0.0002777777777777778\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            0.0\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            -91.00013888888888\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            0.0\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            4\n            -0.0002777777777777778\n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            5\n            48.00013888888889\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        links[] 6 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            rel\n            \"collection\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            1\n            \n        \n            \n                \n        \n            rel\n            \"parent\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            2\n            \n        \n            \n                \n        \n            rel\n            \"root\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/json\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"ASDI STAC API (dev)\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            3\n            \n        \n            \n                \n        \n            rel\n            \"self\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://dev.asdi-catalog.org/collections/cop-dem-glo-30/items/Copernicus_DSM_COG_10_N47_00_W091_00_DEM\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/geo+json\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            4\n            \n        \n            \n                \n        \n            rel\n            \"handbook\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://object.cloud.sdsc.edu/v1/AUTH_opentopography/www/metadata/Copernicus_metadata.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"application/pdf\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"Copernicus DEM User handbook\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n            \n        \n            \n                \n        \n            5\n            \n        \n            \n                \n        \n            rel\n            \"license\"\n        \n    \n            \n        \n            \n                \n        \n            href\n            \"https://spacedata.copernicus.eu/documents/20126/0/CSCDA_ESA_Mission-specific+Annex.pdf\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"Copernicus Data Access\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            assets\n            \n        \n            \n                \n        \n            data\n            \n        \n            \n                \n        \n            href\n            \"s3://copernicus-dem-30m/Copernicus_DSM_COG_10_N47_00_W091_00_DEM/Copernicus_DSM_COG_10_N47_00_W091_00_DEM.tif\"\n        \n    \n            \n        \n            \n                \n        \n            type\n            \"image/tiff; application=geotiff; profile=cloud-optimized\"\n        \n    \n            \n        \n            \n                \n        \n            title\n            \"N47_00_W091_00\"\n        \n    \n            \n        \n            \n                \n        raster:bands[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \n        \n            \n                \n        \n            unit\n            \"meter\"\n        \n    \n            \n        \n            \n                \n        \n            sampling\n            \"point\"\n        \n    \n            \n        \n            \n                \n        \n            data_type\n            \"float32\"\n        \n    \n            \n        \n            \n                \n        \n            spatial_resolution\n            30\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        roles[] 1 items\n        \n            \n        \n            \n                \n        \n            0\n            \"data\"\n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n    \n        \n    \n            \n        \n            \n                \n        \n            collection\n            \"cop-dem-glo-30\""
  },
  {
    "objectID": "index.html#odc.stac.load",
    "href": "index.html#odc.stac.load",
    "title": "STAC at Scale",
    "section": "odc.stac.load",
    "text": "odc.stac.load\n\nload into an xarray.Dataset with odc.stac.load\ndon’t read any data yet, though (just metadata!)\n\n\ndem_ds = odc.stac.load(\n    stac_items,\n    crs=crs,  # assets get reprojected to match crs\n    resolution=30,\n    chunks={},  # lazy eval\n    x=(bbox[0], bbox[2]),  # limit to aoi\n    y=(bbox[1], bbox[3]),\n)\nprint(dem_ds)\n\n\n\n&lt;xarray.Dataset&gt; Size: 3MB\nDimensions:      (y: 688, x: 1081, time: 1)\nCoordinates:\n  * y            (y) float64 6kB 2.765e+06 2.765e+06 ... 2.745e+06 2.745e+06\n  * x            (x) float64 9kB 3.739e+05 3.74e+05 ... 4.063e+05 4.063e+05\n    spatial_ref  int32 4B 5070\n  * time         (time) datetime64[ns] 8B 2021-04-22\nData variables:\n    data         (time, y, x) float32 3MB dask.array&lt;chunksize=(1, 688, 1081), meta=np.ndarray&gt;"
  },
  {
    "objectID": "index.html#xarray-api",
    "href": "index.html#xarray-api",
    "title": "STAC at Scale",
    "section": "xarray API",
    "text": "xarray API\n\naccess to the xarray API for visualization and analysis\nread data from cloud storage “just-in-time”\n\n\nwith rasterio.Env(aws_no_sign_request=True):\n    dem_ds[\"data\"].squeeze().plot.imshow()"
  },
  {
    "objectID": "index.html#new-source-same-tools",
    "href": "index.html#new-source-same-tools",
    "title": "STAC at Scale",
    "section": "New source, same tools",
    "text": "New source, same tools\n\nread another dataset from a different source\n\n\nclient = pystac_client.Client.open(\n    \"https://services.terrascope.be/stac\"\n)\n\n# sometimes necessary before running a collection search\nclient.add_conforms_to(\"COLLECTIONS\")\ncollection_search = client.collection_search(\n    q=\"WorldCover\", bbox=bbox_4326\n)\n\nstac_items = client.search(\n    collections=next(collection_search.collections()).id,\n    bbox=bbox_4326,\n).item_collection()"
  },
  {
    "objectID": "index.html#load-land-cover",
    "href": "index.html#load-land-cover",
    "title": "STAC at Scale",
    "section": "Load land cover",
    "text": "Load land cover\n\nlandcover_ds = odc.stac.load(\n    stac_items,\n    crs=crs,  # assets get reprojected to match crs\n    resolution=30,\n    dtype=\"uint8\",\n    resampling=\"nearest\",\n    chunks={},  # lazy eval\n    x=(bbox[0], bbox[2]),  # limit to aoi\n    y=(bbox[1], bbox[3]),\n)\nprint(landcover_ds)\n\n\n\n&lt;xarray.Dataset&gt; Size: 758kB\nDimensions:                 (y: 688, x: 1081, time: 1)\nCoordinates:\n  * y                       (y) float64 6kB 2.765e+06 2.765e+06 ... 2.745e+06\n  * x                       (x) float64 9kB 3.739e+05 3.74e+05 ... 4.063e+05\n    spatial_ref             int32 4B 5070\n  * time                    (time) datetime64[ns] 8B 2020-12-31T23:59:59\nData variables:\n    ESA_WORLDCOVER_10M_MAP  (time, y, x) uint8 744kB dask.array&lt;chunksize=(1, 688, 1081), meta=np.ndarray&gt;"
  },
  {
    "objectID": "index.html#merge-datasets",
    "href": "index.html#merge-datasets",
    "title": "STAC at Scale",
    "section": "Merge datasets",
    "text": "Merge datasets\n\ncombine the two Datasets into a single xarray.Dataset\n\n\nmerged = xr.merge(\n  [\n      landcover_ds.squeeze().rename({\"ESA_WORLDCOVER_10M_MAP\": \"land_cover\"}),\n      dem_ds.squeeze().rename({\"data\": \"elevation_m\"}),\n  ],\n  compat=\"override\"\n)\n\nprint(merged)\n\n\n\n&lt;xarray.Dataset&gt; Size: 4MB\nDimensions:      (y: 688, x: 1081)\nCoordinates:\n  * y            (y) float64 6kB 2.765e+06 2.765e+06 ... 2.745e+06 2.745e+06\n  * x            (x) float64 9kB 3.739e+05 3.74e+05 ... 4.063e+05 4.063e+05\n    spatial_ref  int32 4B 5070\n    time         datetime64[ns] 8B 2020-12-31T23:59:59\nData variables:\n    land_cover   (y, x) uint8 744kB dask.array&lt;chunksize=(688, 1081), meta=np.ndarray&gt;\n    elevation_m  (y, x) float32 3MB dask.array&lt;chunksize=(688, 1081), meta=np.ndarray&gt;"
  },
  {
    "objectID": "index.html#analyze-disparate-datasets",
    "href": "index.html#analyze-disparate-datasets",
    "title": "STAC at Scale",
    "section": "Analyze disparate datasets",
    "text": "Analyze disparate datasets\n\ncalculate mean elevation by land cover class\n\n\n\n\nwith rasterio.Env(aws_no_sign_request=True):\n    stats = (\n        merged.elevation_m.groupby(\n            merged.land_cover\n        ).mean().compute()\n    )\n\n\n\n\n\n\n\n\n\n\n\nland_cover\nelevation_m\n\n\n\n\n0\n10\n476\n\n\n1\n20\n513\n\n\n2\n30\n459\n\n\n3\n40\n353\n\n\n4\n50\n289\n\n\n5\n60\n403\n\n\n6\n80\n281\n\n\n7\n90\n487\n\n\n8\n100\n484"
  },
  {
    "objectID": "index.html#thank-you",
    "href": "index.html#thank-you",
    "title": "STAC at Scale",
    "section": "Thank you!",
    "text": "Thank you!\nhenry@developmentseed.org\n\n\n\n\ndevelopmentseed.org"
  }
]